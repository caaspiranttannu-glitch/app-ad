<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple To-Do App</title>
  <style>
    :root{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; --bg:#f6f8fb; --card:#ffffff; --accent:#2b6ef6;}
    body{margin:0;background:var(--bg);display:flex;align-items:center;justify-content:center;height:100vh;padding:20px;}
    .card{width:100%;max-width:520px;background:var(--card);border-radius:12px;box-shadow:0 6px 24px rgba(20,30,60,0.08);padding:22px;}
    h1{margin:0 0 8px;font-size:20px;}
    p.small{margin:0 0 16px;color:#556;}
    .row{display:flex;gap:8px;margin-bottom:12px;}
    input[type=text]{flex:1;padding:10px 12px;border-radius:8px;border:1px solid #e3e7ef;font-size:14px;}
    button{background:var(--accent);color:#fff;padding:10px 12px;border:none;border-radius:8px;cursor:pointer;font-weight:600}
    ul{list-style:none;padding:0;margin:0;}
    li{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;border:1px solid #eef2fb;margin-bottom:8px;}
    .left{display:flex;gap:10px;align-items:center;}
    .todo-text{max-width:380px;word-break:break-word;}
    .done{text-decoration:line-through;color:#999}
    .small-btn{background:transparent;border:none;color:#888;cursor:pointer;font-size:14px;padding:6px;border-radius:6px}
    .filters{display:flex;gap:8px;margin-top:12px;}
    .chip{padding:6px 10px;border-radius:20px;border:1px solid #e6eaf8;cursor:pointer}
    .chip.active{background:var(--accent);color:#fff;border-color:var(--accent)}
    .count{color:#556;font-size:13px;margin-top:10px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Mera To-Do App</h1>
    <p class="small">Naya task add karein, complete par click karein, ya delete karein. Data aapke browser mein save hota hai.</p>

    <div class="row">
      <input id="newTask" type="text" placeholder="Naya task likhiye (e.g. Groceries lene hain)" />
      <button id="addBtn">Add</button>
    </div>

    <ul id="list"></ul>

    <div class="filters">
      <button class="chip active" data-filter="all">All</button>
      <button class="chip" data-filter="active">Active</button>
      <button class="chip" data-filter="done">Done</button>
      <button class="chip" id="clearDone" style="margin-left:auto">Clear Done</button>
    </div>

    <div class="count" id="count"></div>
  </div>

  <script>
    const STORAGE_KEY = 'my-simple-todos-v1';
    let todos = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    let filter = 'all';

    const el = {
      list: document.getElementById('list'),
      newTask: document.getElementById('newTask'),
      addBtn: document.getElementById('addBtn'),
      chips: document.querySelectorAll('.chip'),
      count: document.getElementById('count'),
      clearDone: document.getElementById('clearDone')
    };

    function save(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(todos)); }
    function render(){
      el.list.innerHTML = '';
      let shown = todos.filter(t => filter === 'all' ? true : (filter === 'active' ? !t.done : t.done));
      shown.forEach(todo => {
        const li = document.createElement('li');
        const left = document.createElement('div'); left.className='left';
        const checkbox = document.createElement('input'); checkbox.type='checkbox'; checkbox.checked = todo.done;
        checkbox.addEventListener('change', ()=>{ toggleDone(todo.id); });
        const span = document.createElement('div'); span.className = 'todo-text' + (todo.done ? ' done' : ''); span.textContent = todo.text;
        left.appendChild(checkbox); left.appendChild(span);

        const right = document.createElement('div');
        const del = document.createElement('button'); del.className='small-btn'; del.textContent='Delete';
        del.addEventListener('click', ()=>{ deleteTodo(todo.id); });

        right.appendChild(del);
        li.appendChild(left); li.appendChild(right);

        el.list.appendChild(li);
      });

      const activeCount = todos.filter(t => !t.done).length;
      el.count.textContent = `${activeCount} task(s) pending â€¢ total ${todos.length}`;
    }

    function addTodo(text){
      if(!text || !text.trim()) return;
      todos.unshift({ id: Date.now()+Math.random(), text:text.trim(), done:false });
      save(); render();
      el.newTask.value = '';
      el.newTask.focus();
    }

    function deleteTodo(id){
      todos = todos.filter(t=>t.id !== id);
      save(); render();
    }

    function toggleDone(id){
      todos = todos.map(t => t.id === id ? {...t, done: !t.done} : t);
      save(); render();
    }

    function clearDone(){
      todos = todos.filter(t => !t.done);
      save(); render();
    }

    el.addBtn.addEventListener('click', ()=> addTodo(el.newTask.value));
    el.newTask.addEventListener('keydown', (e)=> { if(e.key === 'Enter') addTodo(el.newTask.value); });

    el.chips.forEach(c => c.addEventListener('click', (ev)=>{
      el.chips.forEach(x=>x.classList.remove('active'));
      ev.currentTarget.classList.add('active');
      filter = ev.currentTarget.dataset.filter;
      render();
    }));

    el.clearDone.addEventListener('click', ()=> {
      if(confirm('Kya aap sach mein saare completed tasks delete karna chahte hain?')) clearDone();
    });

    // initial render
    render();
  </script>
</body>
</html>
